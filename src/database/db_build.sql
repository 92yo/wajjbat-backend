BEGIN;
    DROP TABLE IF EXISTS businesses,users,images,reviews  CASCADE;

CREATE TABLE
  IF NOT EXISTS users
  (
  id SERIAL  PRIMARY KEY,
  first_name VARCHAR(100) NOT NULL,
  last_name VARCHAR(100) NOT NULL,
  email VARCHAR(100) ,
  profile_image TEXT 
);

CREATE TABLE  IF NOT EXISTS  businesses
(
  id serial PRIMARY KEY,
  user_id INTEGER ,
  name VARCHAR(500) NOT NULL,
  primaryImage VARCHAR(500) NOT NULL,
   description TEXT NOT NULL,
  cuisine VARCHAR(100) NOT NULL,
  lat DECIMAL (10,7) NOT NULL,
  lng DECIMAL(10,7) NOT NULL,
  business_type VARCHAR(100) NOT NULL,
  phone VARCHAR(50) NOT NULL,
  address VARCHAR(100) NOT NULL,
  email VARCHAR(100) ,
  parking  BOOLEAN ,
  freeWifi  BOOLEAN ,
  smokingArea  BOOLEAN,
  FOREIGN KEY(user_id)REFERENCES users(id)
);



CREATE TABLE  IF NOT EXISTS  images
(
   id serial PRIMARY KEY,
   business_id INTEGER,
   image_url VARCHAR(500) NOT NULL,
   FOREIGN KEY(business_id) REFERENCES businesses(id)

);


CREATE TABLE  IF NOT EXISTS  reviews
(
  id serial PRIMARY KEY,
  user_id INTEGER ,
   business_id INTEGER ,   
  rating  DECIMAL(2,1) NOT NULL,
  review_body TEXT NOT NULL,
  date_created DATE NOT NULL DEFAULT current_date,
  FOREIGN KEY(user_id) REFERENCES users(id),
  FOREIGN KEY(business_id)REFERENCES businesses(id)
);



INSERT INTO users (first_name,last_name,email,profile_image) VALUES
 ('moshe','cursias','moshe@gmail.com',
 'data:image/jpeg;base64,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'
 ),
 ('avi','cohen','avi@gmail.com','https://pbs.twimg.com/profile_images/760457059427053573/ihXPqYrW_400x400.jpg');

INSERT INTO businesses(user_id,name,primaryImage,description,cuisine,lat,lng,business_type,phone,address,email,parking,freeWifi,smokingArea)VALUES
(1,'Al Shawarma','https://www.ahstatic.com/photos/5555_rsr001_01_p_1024x768.jpg',
'The best shwarma wrapper in town, for shwarma lovers, amazing quality and people',
'east food',32.794044,34.989571,'resturant','052386777','nazerth','alswarma@gmail.com',
'true','true','true');

INSERT INTO images (business_id,image_url) VALUES
(1,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRP6rX2JulNFa3rlswp0WBQYoquLy9vVmKgvPLLACkGlLyHCBwA&s');

INSERT INTO reviews (user_id,business_id,rating,review_body) VALUES (2,1,7,'Come enjoy some dank vaping 420 blaze it');

COMMIT;


